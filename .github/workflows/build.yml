name: Build Site
on: workflow_dispatch

jobs:
  Build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - run: |
          git config user.name github-actions
          git config user.email github-actions@github.com
          git checkout live
          git checkout main -- ./
          git reset
          npm install
          npm run build
          git add ./docs
          git commit -m "Build for publishing"
          git push