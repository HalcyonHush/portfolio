function Menu(t,e,n,i){this.button=t,this.text=e,this.container=n,this.minWidth=i;var o=window.matchMedia("(min-width: "+this.minWidth+")");o.addListener(this.reactToViewport.bind(this)),this.reactToViewport(o),this.button.addEventListener("click",this.reactToMenuButton.bind(this)),this.reactToClickOffMenu=function(t){this._reactToClickOffMenu(t)}.bind(this),this.reactToEscapeKey=function(t){this._reactToEscapeKey(t)}.bind(this)}"serviceWorker"in navigator&&navigator.serviceWorker.register("/serviceworker.js"),document.addEventListener("DOMContentLoaded",function(){var t=document.querySelector("#site-nav-menu-button"),e=t.querySelector("#site-nav-menu-button-text");new Menu(t,e,document.querySelector("#site-nav-content"),"48rem")},{once:!0}),Menu.prototype={get state(){return this._state},set state(t){"open"===t?(this.updateDOM("add"),setTimeout(function(){this.updateView("open"),this.updateButtonText("Close"),this.updateListeners("add")}.bind(this),50)):"closed"===t?("fixed"===this.state&&this.updateDOM("remove"),this.updateView("closed"),this.updateButtonText("Open"),this.updateListeners("remove"),void 0===this.transitionLength&&"complete"===document.readyState&&this.getTransitionLength(),setTimeout(function(){"closed"===this.state&&this.updateDOM("remove")}.bind(this),this.transitionLength)):"fixed"===t&&(this.updateDOM("add"),this.updateListeners("remove")),this._state=t}},Menu.prototype.reactToViewport=function(t){t.matches?this.state="fixed":this.state="closed"},Menu.prototype.reactToMenuButton=function(){"open"===this.state?this.state="closed":this.state="open"},Menu.prototype._reactToClickOffMenu=function(t){t.target.closest("#site-nav-content")||(this.state="closed")},Menu.prototype._reactToEscapeKey=function(t){"Escape"!==t.key&&"Esc"!==t.key||(this.state="closed")},Menu.prototype.reactToScrollOutOfView=function(t){t[0].boundingClientRect.top+window.pageYOffset>=0&&(this.state="closed")},Menu.prototype.updateDOM=function(t){"add"===t?this.container.removeAttribute("style","display: none"):"remove"===t&&(this.container.style.display="none")},Menu.prototype.updateView=function(t){"open"===t?this.button.setAttribute("aria-expanded","true"):"closed"===t&&this.button.setAttribute("aria-expanded","false")},Menu.prototype.updateButtonText=function(t){this.text.textContent=t},Menu.prototype.updateListeners=function(t){"add"===t?(document.addEventListener("click",this.reactToClickOffMenu),document.addEventListener("keyup",this.reactToEscapeKey),"IntersectionObserver"in window&&(this.observer=new IntersectionObserver(this.reactToScrollOutOfView.bind(this),{threshold:.3}),this.observer.observe(this.container))):"remove"===t&&(document.removeEventListener("click",this.reactToClickOffMenu),document.removeEventListener("keyup",this.reactToEscapeKey),this.observer&&this.observer.unobserve(this.container))},Menu.prototype.getTransitionLength=function(){var t=window.getComputedStyle(this.container),e=parseFloat(t.transitionDelay),n=parseFloat(t.transitionDuration);this.transitionLength=1e3*(e+n)},Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});